<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <title>Login</title>
</head>
<body>
    <div class="wrapper">

      <div class="container main">

            <div class="row">


                <div class="col-md-6 side-image">

                    <div class="text">

                        <p><i>TASK MASTER</i></p>

                    </div>

                </div>

                <div class="col-md-6 right">

                    <div class="input-box">

                        <header>CREATE ACCOUNT</header>

                        <div class="input-field">
                            <input type="text" class="input" id="name" required="" autocomplete="off">
                            <label for="name">Full Name</label> 
                        </div> 
                
                        <div class="input-field">
                            <input type="text" class="input" id="email" required="" autocomplete="off">
                            <label for="email">Email</label> 
                        </div> 

                        <div class="input-field">
                            <input type="password" class="input" id="pass" required="">
                            <label for="pass">Password</label>
                        </div>

                        <div class="input-field">

                            <input type="submit" id="signUp" class="submit" value="sign up">

                        </div>
                        <div class="signin">
                            <span>Already have an account? <a href="signup.html">Log in here</a></span>
                        </div>
                        

                        </div>

                    </div>

                </div>


      </div>  

    </div>

</body>

<script type="module">
    // Import the functions you need from the SDKs you need
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.4.0/firebase-app.js";
    import { getDatabase, set, ref } from "https://www.gstatic.com/firebasejs/10.4.0/firebase-database.js";
    import { getAuth, createUserWithEmailAndPassword } from "https://www.gstatic.com/firebasejs/10.4.0/firebase-auth.js";
    import { getAnalytics } from "https://www.gstatic.com/firebasejs/10.4.0/firebase-analytics.js";
    // TODO: Add SDKs for Firebase products that you want to use
    // https://firebase.google.com/docs/web/setup#available-libraries
  
    // Your web app's Firebase configuration
    // For Firebase JS SDK v7.20.0 and later, measurementId is optional
    const firebaseConfig = {
      apiKey: "AIzaSyDOXJfWUvqOJsL8LTkH9Wswkls95acY7pQ",
      authDomain: "authentication-c88df.firebaseapp.com",
      databaseURL: "https://authentication-c88df-default-rtdb.firebaseio.com",
      projectId: "authentication-c88df",
      storageBucket: "authentication-c88df.appspot.com",
      messagingSenderId: "986907059273",
      appId: "1:986907059273:web:daea9160df474413a64b98",
      measurementId: "G-SX7FQ9QE59"
    };
  
    // Initialize Firebase
    const app = initializeApp(firebaseConfig);
    const analytics = getAnalytics(app);
    const database = getDatabase(app);
    const auth = getAuth();


    signUp.addEventListener('click', (e)=> { 


        var name = document.getElementById('name').value;
        var email = document.getElementById('email').value;
        var password = document.getElementById('pass').value;
       
        createUserWithEmailAndPassword(auth, email, password)
        .then((userCredential) => {
            // Signed up 
            const user = userCredential.user;

            set(ref(database, 'users/' + user.uid),{

                name: name,
                email: email,
                password: password

            })

            alert('Account created');
        })
        .catch((error) => {
            const errorCode = error.code;
            const errorMessage = error.message;
            alert(errorMessage);
        });



    });
  </script>

</html>


